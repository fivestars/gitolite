import re

from fsqa.readability.python import PythonChecker


class DjangoChecker(PythonChecker):
    readability = """
        charles*
        jingsong*
    """.split()

    def __call__(self):
        if super(DjangoChecker, self).__call__():
            django_regex = re.compile("^((from)|(import)) [^\#]*(django)")
            return any(django_regex.match(l.strip()) for l in self.file_contents.split("\n"))
